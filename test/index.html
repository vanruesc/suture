<html>
	<head>
		<meta charset="utf-8">
		<title>Mocha</title>
		<link rel="stylesheet" href="../node_modules/mocha/mocha.css">
		<script src="../node_modules/mocha/mocha.js"></script>
		<script>mocha.setup("bdd");</script>
		<script>function assert(expr, msg) { if(!expr) { throw new Error(msg || "failed"); } }</script>
		<script src="../build/suture.js"></script>
		<script src="suture.test.js"></script>
		<script>

			document.addEventListener("DOMContentLoaded", function() {

				var runner;

				if(navigator.userAgent.indexOf("PhantomJS") < 0) {

					mocha.checkLeaks();
					runner = mocha.run();

					/**
					 * start      execution started
					 * end        execution complete
					 * suite      (suite) test suite execution started
					 * suite end  (suite) all tests (and sub-suites) have finished
					 * test       (test) test execution started
					 * test end   (test) test completed
					 * hook       (hook) hook execution started
					 * hook end   (hook) hook complete
					 * pass       (test) test passed
					 * fail       (test, err) test failed
					 */

					//runner.on("end", function() {});

				}

			});

		</script>
	</head>
	<body>
		<div id="mocha"></div>
		<a href="/dummy" style="display: none;">Dummy</a>
	</body>
</html>
